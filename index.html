<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"yoursite.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Always remember us this way">
<meta property="og:type" content="website">
<meta property="og:title" content="随记">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="随记">
<meta property="og:description" content="Always remember us this way">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sweetink">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yoursite.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>随记</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">随记</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">......</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-demo"><a href="/demo/" rel="section"><i class="fa fa-flask fa-fw"></i>demo</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">sweetink</p>
  <div class="site-description" itemprop="description">Always remember us this way</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">79</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/09/26/%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%ADNvidia%20DLSS%20indicator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/09/26/%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%ADNvidia%20DLSS%20indicator/" class="post-title-link" itemprop="url">开启或关闭Nvidia DLSS Indicator.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-09-26 10:49:04" itemprop="dateCreated datePublished" datetime="2024-09-26T10:49:04+08:00">2024-09-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="enable"><a href="#enable" class="headerlink" title="enable"></a>enable</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\NVIDIA Corporation\Global\NGXCore]</span><br><span class="line">&quot;ShowDlssIndicator&quot;=dword:00000001</span><br></pre></td></tr></table></figure>

<h2 id="disable"><a href="#disable" class="headerlink" title="disable"></a>disable</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\NVIDIA Corporation\Global\NGXCore]</span><br><span class="line">&quot;ShowDlssIndicator&quot;=dword:00000000</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/07/12/Windows%E7%BC%96%E8%AF%91OpendJDK%E8%B8%A9%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/12/Windows%E7%BC%96%E8%AF%91OpendJDK%E8%B8%A9%E5%9D%91/" class="post-title-link" itemprop="url">Windows编译OpenJDK踩坑(持续更新).</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-12 03:54:04" itemprop="dateCreated datePublished" datetime="2024-07-12T03:54:04+08:00">2024-07-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h1><h2 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h2><p><a target="_blank" rel="noopener" href="https://github.com/AdoptOpenJDK/openjdk-jdk11u">AdoptOpenJDK&#x2F;openjdk-jdk11u</a></p>
<p><a target="_blank" rel="noopener" href="https://hg.openjdk.org/jdk-updates/jdk11u/tags">jdk-updates</a></p>
<h2 id="准备boot-JDK"><a href="#准备boot-JDK" class="headerlink" title="准备boot JDK"></a>准备boot JDK</h2><p><a target="_blank" rel="noopener" href="https://jdk.java.net/">JDK release</a></p>
<p><code>C:\Program Files (x86)\Tencent\微信web开发者工具\dll</code></p>
<h2 id="安装vs2017"><a href="#安装vs2017" class="headerlink" title="安装vs2017"></a>安装vs2017</h2><ul>
<li><p>使用C++的桌面开发</p>
</li>
<li><p>通用Windows平台开发</p>
</li>
<li><p>语言包选择English</p>
</li>
</ul>
<h2 id="cygwin"><a href="#cygwin" class="headerlink" title="cygwin"></a>cygwin</h2><h3 id="安装必要软件包"><a href="#安装必要软件包" class="headerlink" title="安装必要软件包"></a>安装必要软件包</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;path to Cygwin setup&gt;/setup-x86_64 -q -P autoconf -P make -P unzip -P zip</span><br></pre></td></tr></table></figure>
<h3 id="configu-amp-compile"><a href="#configu-amp-compile" class="headerlink" title="configu &amp; compile"></a>configu &amp; compile</h3><p>配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd path/openjdk17</span><br><span class="line"></span><br><span class="line">bash configure --with-debug-level=slowdebug --with-jvm-variants=server --disable-zip-debug-info --disable-warnings-as-errors --with-boot-jdk=/mnt/d/Aproject/openjdk/</span><br></pre></td></tr></table></figure>

<p>编译</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make LOG=info</span><br></pre></td></tr></table></figure>

<p>生成compile-database</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make compile-commands</span><br></pre></td></tr></table></figure>

<h1 id="使用wsl编译"><a href="#使用wsl编译" class="headerlink" title="使用wsl编译"></a>使用wsl编译</h1><h2 id="安装必要软件包-1"><a href="#安装必要软件包-1" class="headerlink" title="安装必要软件包"></a>安装必要软件包</h2><p>下载好jdk源码后，解压到<code>d:\openjdk\jdk11u</code></p>
<p>打开wsl shell，进入jdk源码目录</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /mnt/d/openjdk/jdk11u</span><br></pre></td></tr></table></figure>

<p>配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash configure --with-debug-level=slowdebug --with-jvm-variants=server --disable-zip-debug-info --disable-warnings-as-errors --with-boot-jdk=/mnt/d/Aproject/openjdk/</span><br></pre></td></tr></table></figure>
<p>编译</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>生成 compile database</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make compile-commands</span><br></pre></td></tr></table></figure>

<p>编译特定的模块</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make CONF=config java.base-lib</span><br></pre></td></tr></table></figure>
<h1 id="Clion-Debug"><a href="#Clion-Debug" class="headerlink" title="Clion Debug"></a>Clion Debug</h1><p><code>Run/Debug Configurations &gt; new Custom Build Application</code></p>
<p><code>name: jdk11-spring-boot-debug</code></p>
<p><code>Executeble:build\jdk\bin\java.exe</code></p>
<p><code>Program arguments:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-Xdebug -XX:+UseSerialGC -Xrunjdwp:server=y,transport=dt_socket,address=8099,suspend=n -Xlog:gc -Xms1000M -Xmn1000M -XX:-DoEscapeAnalysis -XX:+UseTLAB -XX:-ResizeTLAB -jar &quot;D:\AProject\edian\backend\etc\api\certification-service\target\cs1.jar&quot; -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintCompilation -XX:+PrintInlining -XX:CompileCommand=quiet</span><br></pre></td></tr></table></figure>

<p><code>Environment variables:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">_JAVA_LAUNCHER_DEBUG =1 </span><br></pre></td></tr></table></figure>
<blockquote>
<p>ref code: <code>src/java.base/share/native/launcher/main.c:146</code><br> <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _WIN32</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">getenv</span>(JLDEBUG_ENV_ENTRY) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Windows original main args:\n&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; __argc ; i++) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;wwwd_args[%d] = %s\n&quot;</span>, i, __argv[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="assert-strcmp-value-system-value-x3D-x3D-0-failed-property-value-mustn’t-differ-from-System-getProperty"><a href="#assert-strcmp-value-system-value-x3D-x3D-0-failed-property-value-mustn’t-differ-from-System-getProperty" class="headerlink" title="assert(strcmp(value, system_value) &#x3D;&#x3D; 0) failed: property value mustn’t differ from System.getProperty"></a>assert(strcmp(value, system_value) &#x3D;&#x3D; 0) failed: property value mustn’t differ from System.getProperty</h2><p>出现这个问题，通常日志如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># To suppress the following error report, specify this argument</span><br><span class="line"># after -XX: or in .hotspotrc:  SuppressErrorAt=\statSampler.cpp:204</span><br><span class="line">#</span><br><span class="line"># A fatal error has been detected by the Java Runtime Environment:</span><br><span class="line">#</span><br><span class="line">#  Internal Error (d:\aproject\openjdk\jdk17\src\hotspot\share\runtime\statSampler.cpp:204), pid=4488, tid=21828</span><br><span class="line">#  assert(strcmp(value, system_value) == 0) failed: property value mustn&#x27;t differ from System.getProperty</span><br><span class="line">#</span><br><span class="line"># JRE version: OpenJDK Runtime Environment (17.0) (slowdebug build 17-internal+0-adhoc.edian.jdk17)</span><br><span class="line"># Java VM: OpenJDK 64-Bit Server VM (slowdebug 17-internal+0-adhoc.edian.jdk17, mixed mode, tiered, compressed oops, com</span><br><span class="line">pressed class ptrs, g1 gc, windows-amd64)</span><br><span class="line"># Core dump will be written. Default location: D:\AProject\openjdk\jdk17\build\windows-x86_64-server-slowdebug\jdk\bin\h</span><br><span class="line">s_err_pid4488.mdmp</span><br></pre></td></tr></table></figure>
<p>该问题是由于在<code>bash configure</code>阶段，启用了调试，如<code>--with-debug-level=*debug</code> (*指的是 <code>slow</code>,<code>fast</code>)<br>相关定义可在如下文件找到</p>
<p><code>make/hotspot/lib/JvmFlags.gmk:81</code></p>
<figure class="highlight make"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(DEBUG_LEVEL)</span>, release)</span><br><span class="line">  <span class="comment"># For hotspot, release builds differ internally between &quot;optimized&quot; and &quot;product&quot;</span></span><br><span class="line">  <span class="comment"># in that &quot;optimize&quot; does not define PRODUCT.</span></span><br><span class="line">  <span class="keyword">ifneq</span> (<span class="variable">$(HOTSPOT_DEBUG_LEVEL)</span>, optimized)</span><br><span class="line">    JVM_CFLAGS_DEBUGLEVEL := -DPRODUCT</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">ifeq</span> (<span class="variable">$(DEBUG_LEVEL)</span>, fastdebug)</span><br><span class="line">  JVM_CFLAGS_DEBUGLEVEL := -DASSERT</span><br><span class="line">  <span class="keyword">ifeq</span> (<span class="variable">$(<span class="built_in">call</span> isTargetOs, windows aix)</span>, false)</span><br><span class="line">    <span class="comment"># <span class="doctag">NOTE:</span> Old build did not define CHECK_UNHANDLED_OOPS on Windows and AIX.</span></span><br><span class="line">    JVM_CFLAGS_DEBUGLEVEL += -DCHECK_UNHANDLED_OOPS</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">ifeq</span> (<span class="variable">$(DEBUG_LEVEL)</span>, slowdebug)</span><br><span class="line">  <span class="comment"># _NMT_NOINLINE_ informs NMT that no inlining is done by the compiler</span></span><br><span class="line">  JVM_CFLAGS_DEBUGLEVEL := -DASSERT -D_NMT_NOINLINE_</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<p>定位到相关源码则是</p>
<p><code>statSampler.cpp:180</code></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">StatSampler::assert_system_property</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name, <span class="type">const</span> <span class="type">char</span>* value, TRAPS)</span> </span>&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> ASSERT</span></span><br><span class="line">  <span class="function">ResourceMark <span class="title">rm</span><span class="params">(THREAD)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// setup the arguments to getProperty</span></span><br><span class="line">  Handle key_str   = java_lang_String::<span class="built_in">create_from_str</span>(name, CHECK);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// return value</span></span><br><span class="line">  <span class="function">JavaValue <span class="title">result</span><span class="params">(T_OBJECT)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// public static String getProperty(String key, String def);</span></span><br><span class="line">  JavaCalls::<span class="built_in">call_static</span>(&amp;result,</span><br><span class="line">                         vmClasses::<span class="built_in">System_klass</span>(),</span><br><span class="line">                         vmSymbols::<span class="built_in">getProperty_name</span>(),</span><br><span class="line">                         vmSymbols::<span class="built_in">string_string_signature</span>(),</span><br><span class="line">                         key_str, </span><br><span class="line">                         CHECK);</span><br><span class="line"></span><br><span class="line">  oop value_oop = result.<span class="built_in">get_oop</span>();</span><br><span class="line">  <span class="built_in">assert</span>(value_oop != <span class="literal">NULL</span>, <span class="string">&quot;property must have a value&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// convert Java String to utf8 string</span></span><br><span class="line">  <span class="type">char</span>* system_value = java_lang_String::<span class="built_in">as_utf8_string</span>(value_oop);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\tA system value: %s -&gt; \n%s\n\n&quot;</span>,name,system_value);</span><br><span class="line">  <span class="built_in">assert</span>(<span class="built_in">strcmp</span>(value, system_value) == <span class="number">0</span>, <span class="string">&quot;property value mustn&#x27;t differ from System.getProperty&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// ASSERT</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当比较到<code>value</code>和<code>system_value</code>不相等时，会抛出异常，</p>
<p>通过断点调试</p>
<p>此时的<code>char* name</code>值为<code>java.library.path</code></p>
<p><del>是由于环境变量<code>PATH</code>中包含了带有中文的路径，导致<code>system_value</code>转换为utf8时，中文字符转换为乱码，导致<code>strcmp</code>不相等，从而抛出异常。</del></p>
<p>解决办法：把<code>PATH</code>中的中文路径去掉，或者<code>bash configure</code>阶段不要启用调试</p>
<h3 id="补充1"><a href="#补充1" class="headerlink" title="补充1"></a>补充1</h3><p>如果是Windows平台 此时<code>value</code>中存储的是<code>GBK</code>编码后的<code>path</code>值，value_oop存储的是<code>UTF-16(LE)</code>编码后的<code>path</code>值，经过</p>
<p><code>char* system_value = java_lang_String::as_utf8_string(value_oop);</code> 后，<code>system_value</code>存储的是<code>utf8编码后的path</code>值，这个时候<code>strcmp</code>比较字符串的结果是不相等的（因为有中文）</p>
<h3 id="补充2"><a href="#补充2" class="headerlink" title="补充2"></a>补充2</h3><p>假如<code>path</code>含有<code>中文</code>字符  eg：<code>c:\Hello\Abc-ZH-中文-Abc;</code></p>
<p>则有如下</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>GBK</th>
<th>UTF16</th>
<th>UTF8</th>
</tr>
</thead>
<tbody><tr>
<td>中</td>
<td>D6D0</td>
<td>4E2D</td>
<td>E4B8AD</td>
</tr>
<tr>
<td>文</td>
<td>CEC4</td>
<td>6587</td>
<td>E69687</td>
</tr>
</tbody></table>
<p><code>value</code>内存中的值（GBK编码）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">6d 33 32 3b   43 3a 5c 57   49 4e 44 4f   57 53 3b 63   │ m32;C:\WINDOWS;c │</span><br><span class="line">3a 5c 48 65   6c 6c 6f 5c   41 62 63 2d   5a 48 2d d6   │ :\Hello\Abc-ZH-· │</span><br><span class="line">d0 ce c4 2d   41 62 63 3b   43 3a 5c 47   6e 75 57 69   │ ···-Abc;C:\GnuWi │</span><br></pre></td></tr></table></figure>

<p><code>value_oop</code> 在内存中的值(因为使用UTF16LE编码，所以字节序和大端模式相反)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">57 00 53 00   3b 00 63 00   3a 00 5c 00   48 00 65 00   │ W·S·;·c·:·\·H·e· │</span><br><span class="line">6c 00 6c 00   6f 00 5c 00   41 00 62 00   63 00 2d 00   │ l·l·o·\·A·b·c·-· │</span><br><span class="line">5a 00 48 00   2d 00 2d 4e   87 65 2d 00   41 00 62 00   │ Z·H·-·-N·e-·A·b· │</span><br><span class="line">63 00 3b 00   43 00 3a 00   5c 00 47 00   6e 00 75 00   │ c·;·C·:·\·G·n·u· │</span><br><span class="line">57 00 69 00   6e 00 33 00   32 00 5c 00   62 00 69 00   │ W·i·n·3·2·\·b·i· │</span><br></pre></td></tr></table></figure>
<p><code>system_value</code>在内存中的值（UTF8编码）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">6d 33 32 3b   43 3a 5c 57   49 4e 44 4f   57 53 3b 63   │ m32;C:\WINDOWS;c │</span><br><span class="line">3a 5c 48 65   6c 6c 6f 5c   41 62 63 2d   5a 48 2d e4   │ :\Hello\Abc-ZH-· │</span><br><span class="line">b8 ad e6 96   87 2d 41 62   63 3b 43 3a   5c 47 6e 75   │ ·····-Abc;C:\Gnu │</span><br></pre></td></tr></table></figure>
<h3 id="补充3"><a href="#补充3" class="headerlink" title="补充3"></a>补充3</h3><p><code>utf8</code> 最小代码单元是一个字节</p>
<p><code>utf16</code> 的最小代码单元是2个字节</p>
<h2 id="complication-database-json-导入clion无法正确编译"><a href="#complication-database-json-导入clion无法正确编译" class="headerlink" title="complication-database.json 导入clion无法正确编译"></a>complication-database.json 导入clion无法正确编译</h2><p>使用<code>make compile-commands</code> 生成 <code>compilation-database.json</code></p>
<p>将其导入到clion中，出现编译错误，原因是因为json中的编译命令路径问题，需要把<br><code>\\\\</code> 和 <code>\\</code> 替换为<code>/</code>,然后重新导入即可。</p>
<p>arguments.cpp 969 解析+-参数选项<br>1162 解析JVM -XX参数</p>
<h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><ol>
<li><p>jvm char*在内存中的存储方式为小端模式</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.mytju.com/classcode/tools/encode_gb2312.asp">查看字符编码</a></p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qqxiuzi.cn/bianma/Unicode-UTF.php">Unicode和UTF编码转换</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/throwable/p/9188439.html"></a></p>
<ol start="3">
<li>jstring 转char*<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">jstring value_oop;</span><br><span class="line">java_lang_String::<span class="built_in">as_utf8_string</span>(value_oop)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Can-not-determine-compiler"><a href="#Can-not-determine-compiler" class="headerlink" title="Can not determine compiler"></a>Can not determine compiler</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cannot determine compiler type by executable file: &#x27;C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\14.16.27023\bin\Hostx86\x64\ml64.exe&#x27;</span><br></pre></td></tr></table></figure>


<h3 id="Clion-plugins"><a href="#Clion-plugins" class="headerlink" title="Clion plugins"></a>Clion plugins</h3><h3 id="cidr-base-plugin-jar"><a href="#cidr-base-plugin-jar" class="headerlink" title="cidr-base-plugin.jar"></a>cidr-base-plugin.jar</h3><p>定义了各种编译器匹配实现，以及编译器调用逻辑</p>
<p><code>OCCompilerResolver</code> 编译器解析工具</p>
<p><code>OCBuiltInCompilerResolver</code> 默认实现类</p>
<p>主要匹配以下编译器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, OCCompilerKind&gt; compilerCache = MapsKt.mapOf(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Pair</span>[]&#123;</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;cl&quot;</span>, MSVCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;gcc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;g++&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;xgcc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;xg++&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;colorgcc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;cc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;c++&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;cpp&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;clang&quot;</span>, ClangCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;clang++&quot;</span>, ClangCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;emcc&quot;</span>, ClangCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;em++&quot;</span>, ClangCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;tiarmclang&quot;</span>, ClangCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;nvcc&quot;</span>, NVCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(OCBuiltInCompilerKindProvider.CLANG_CL_ID, ClangClCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;icl&quot;</span>, MSVCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;icc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;icpc&quot;</span>, GCCCompilerKind.INSTANCE),</span><br><span class="line">                TuplesKt.to(<span class="string">&quot;dpcpp-cl&quot;</span>, ClangClCompilerKind.INSTANCE)</span><br><span class="line">        &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="clion-compdb-jar"><a href="#clion-compdb-jar" class="headerlink" title="clion-compdb.jar"></a>clion-compdb.jar</h3><p>主要用于解析<a target="_blank" rel="noopener" href="https://clang.llvm.org/docs/JSONCompilationDatabase.html">compile-commands.json</a></p>
<p>结构如下</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span> <span class="attr">&quot;directory&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/user/llvm/build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;arguments&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;/usr/bin/clang++&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-Irelative&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-DSOMEDEF=With spaces, quotes and \\-es.&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-c&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span> <span class="string">&quot;file.o&quot;</span><span class="punctuation">,</span> <span class="string">&quot;file.cc&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;file.cc&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#123;</span> <span class="attr">&quot;directory&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/user/llvm/build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin/clang++ -Irelative -DSOMEDEF=\&quot;With spaces, quotes and \\-es.\&quot; -c -o file.o file.cc&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;file2.cc&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>



<p>当通过<code>Clion</code>打开<code>compile-commands.json</code>后，会进行<code>Sync</code>操作，触发<code>CompDBProjectResolver#resolveProjectInfo</code></p>
<p>通过遍历<code>compile-commands.json</code>中的<code>command</code>值，校验<code>command</code>是否符合 <code>cidr-base-plugin.jar</code>中定义的编译器。</p>
<p>如果<code>command</code>中的命令不符合上述的编译器，那么会出现<code> Cannot determine compiler type by executable file: &#39;/path/xxx&#39;</code> 这个错误，导致导入失败</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">reportUnresolvedCompilers</span><span class="params">(ExternalSystemTaskId resolveTaskId, Set&lt;? extends File&gt; set, ExternalSystemTaskNotificationListener listener, String parentEventId)</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (set.isEmpty()) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span> (File compiler : set) &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> CompDBBundle.message(<span class="string">&quot;project.resolver.cannot.resolve.compiler.error&quot;</span>, compiler);</span><br><span class="line">         Intrinsics.checkNotNullExpressionValue(message, <span class="string">&quot;CompDBBundle.message(\&quot;pr…ompiler.error\&quot;, compiler)&quot;</span>);</span><br><span class="line">         listener.onTaskOutput(resolveTaskId, message + <span class="string">&quot;\n&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">         CompDBLog.INSTANCE.getLOG().debug(message);</span><br><span class="line">         <span class="type">String</span> <span class="variable">compilerEventId</span> <span class="operator">=</span> <span class="string">&quot;unresolved-compiler:&quot;</span> + UUID.randomUUID();</span><br><span class="line">         <span class="type">OperationDescriptor</span> <span class="variable">taskOperationDescriptorImpl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TaskOperationDescriptorImpl</span>(message, System.currentTimeMillis(), <span class="string">&quot;unresolved-compiler&quot;</span>);</span><br><span class="line">         <span class="type">ExternalSystemProgressEvent</span> <span class="variable">externalSystemStartEventImpl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalSystemStartEventImpl</span>(compilerEventId, parentEventId, taskOperationDescriptorImpl);</span><br><span class="line">         <span class="type">ExternalSystemProgressEvent</span> <span class="variable">externalSystemFinishEventImpl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalSystemFinishEventImpl</span>(compilerEventId, parentEventId, taskOperationDescriptorImpl, <span class="keyword">new</span> <span class="title class_">FailureResultImpl</span>(externalSystemStartEventImpl.getEventTime(), externalSystemStartEventImpl.getEventTime(), CollectionsKt.listOf(<span class="keyword">new</span> <span class="title class_">FailureImpl</span>(message, message, CollectionsKt.emptyList()))));</span><br><span class="line">         listener.onStatusChange(<span class="keyword">new</span> <span class="title class_">ExternalSystemTaskExecutionEvent</span>(resolveTaskId, externalSystemStartEventImpl));</span><br><span class="line">         listener.onStatusChange(<span class="keyword">new</span> <span class="title class_">ExternalSystemTaskExecutionEvent</span>(resolveTaskId, externalSystemFinishEventImpl));</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>找到<code>compile_commands.json</code> 把所有含<code>ml64.exe</code> 相关的<code>commands</code>删掉(注意删掉的是一个整体)</p>
<p>样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span><span class="punctuation">&#123;</span> <span class="attr">&quot;directory&quot;</span><span class="punctuation">:</span> <span class="string">&quot;d:/aproject/openjdk/jdk17/make&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;d:/aproject/openjdk/jdk17/src/jdk.incubator.vector/windows/native/libsvml/svml_d_acos_windows_x86.S&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c:/progra~2/micros~2/2017/commun~1/vc/tools/msvc/1416~1.270/bin/hostx86/x64/ml64.exe -nologo -c -Fod:/aproject/openjdk/jdk17/build/windows-x86_64-server-slowdebug/support/native/jdk.incubator.vector/libsvml/svml_d_acos_windows_x86.obj d:/aproject/openjdk/jdk17/src/jdk.incubator.vector/windows/native/libsvml/svml_d_acos_windows_x86.S&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>再重新导入一下即可</p>
<p><code>Menu &gt; Tools &gt; Compilation Database &gt; Reload Compilation Database Project</code></p>
<h1 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h1><p><a target="_blank" rel="noopener" href="https://blog.jetbrains.com/clion/2020/03/openjdk-with-clion/">Tips &amp; Tricks: Develop OpenJDK in CLion with Pleasure</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/">GC垃圾回收器 调整参数</a></p>
<p><a target="_blank" rel="noopener" href="https://xie.infoq.cn/article/62e1635e0e9db1d091ec0ab16">不同版本 OpenJDK 源码调试方案</a></p>
<p><a target="_blank" rel="noopener" href="https://oi-wiki.org/tools/wsl/">WSL</a></p>
<p><a target="_blank" rel="noopener" href="https://lin1997.github.io/2020/07/19/debug-openjdk-on-ubuntu.html#%E7%94%9F%E6%88%90compilation-database">在Ubuntu中编译和调试OpenJDK </a></p>
<p><a target="_blank" rel="noopener" href="http://www.huicentury.tech/post/2021-10-12-1%E3%80%90JVM%E3%80%91Build%20OpenJDK%2012">编译 openJDK</a></p>
<p><a target="_blank" rel="noopener" href="https://linux.xiaosiseo.com/post/6776.html">Ubuntu下使用rpm</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ykpkris/p/15058656.html">windows 平台编译openjdk12</a></p>
<p><a target="_blank" rel="noopener" href="https://www.python100.com/html/0J1T425OO6LT.html">tar教程</a></p>
<p><a target="_blank" rel="noopener" href="https://jiawanggjia.github.io/post/openjdk-bian-yi-zhi-nan/">OpenJDK 编译指南(Ubuntu 16.04 + MacOS 10.15)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35136937/article/details/110531971">Cygwin</a></p>
<p><a target="_blank" rel="noopener" href="https://jiawanggjia.github.io/post/openjdk-bian-yi-zhi-nan/">OpenJDK 编译指南(Ubuntu 16.04 + MacOS 10.15)</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/09/08/jbpm%20%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/08/jbpm%20%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">JBPM 异常分析.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-08 13:54:04" itemprop="dateCreated datePublished" datetime="2023-09-08T13:54:04+08:00">2023-09-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/debug/" itemprop="url" rel="index"><span itemprop="name">debug</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>JBPM 4.0</code>使用<code>hibernate 3.6.0</code>作为数据持久框架,该版本依赖的javassist版本为<code>3.12.0.GA</code></p>
<p>Hibernate中的每个<code>Entity</code>其实都是代理过的类，由<code>javassit</code>生成一个<code>代理类</code>去继承<code>Entity</code>类。</p>
<p>举个例子</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneImpl</span> <span class="keyword">extends</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToOne</span></span><br><span class="line">    <span class="keyword">private</span> Phone phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserImpl</span> <span class="keyword">extends</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToOne</span></span><br><span class="line">    <span class="keyword">private</span> PhoneImpl phone;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PhoneImpl <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//javassit生成的代理类如下</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserImplProxy</span> <span class="keyword">extends</span> <span class="title class_">UserImpl</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> PhoneImpl phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> &lt;T&gt; T <span class="title function_">fetchDataFromDB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PhoneImpl <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//hibernate 代理 查询数据库</span></span><br><span class="line">        phone = fetchDataFromDB();</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Method[] declaredMethods = UserImplProxy.class.getDeclaredMethods();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         *  /**</span></span><br><span class="line"><span class="comment">         * &lt;init&gt;()V                                    0x0001 [public]</span></span><br><span class="line"><span class="comment">         * fetchDataFromDB()Ljava/lang/Object;          0x0002 [private] </span></span><br><span class="line"><span class="comment">         * getPhone()Lcom/project/pangu/cache/PhoneImpl;0x0001 [public]</span></span><br><span class="line"><span class="comment">         * getPhone()Lcom/project/pangu/cache/Phone;    0x1041 [public synthetic bridge]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//此处模拟jbpm的调用</span></span><br><span class="line">        <span class="type">UserImplProxy</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserImplProxy</span>();</span><br><span class="line">        <span class="type">PhoneImpl</span> <span class="variable">phoneImpl</span> <span class="operator">=</span> proxy.getPhone();</span><br><span class="line">        System.out.println(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你会发现</p>
<p>执行<code>UserImplProxy.class.getDeclaredMethods()</code>后</p>
<p>你会发现返回结果“多出”一个<code>synthetic bridge</code>方法<br><code>getPhone()Lcom/project/pangu/cache/Phone;    0x1041 [public synthetic bridge]</code> （<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32868023/article/details/123980578">Java几种生成synthetic方法的情况</a>，）</p>
<p><code>javassit</code>在代理目标类时，会把目标类中定义的所有方法都查询出来，形成<code>Map&lt;String,Method&gt;</code></p>
<h3 id="javassist-3-12-0-GA"><a href="#javassist-3-12-0-GA" class="headerlink" title="javassist 3.12.0.GA"></a>javassist 3.12.0.GA</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getMethods</span><span class="params">(HashMap hash, Class clazz)</span> &#123;</span><br><span class="line">    Class[] ifs = clazz.getInterfaces();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ifs.length; i++)</span><br><span class="line">        getMethods(hash, ifs[i]);</span><br><span class="line"></span><br><span class="line">    <span class="type">Class</span> <span class="variable">parent</span> <span class="operator">=</span> clazz.getSuperclass();</span><br><span class="line">    <span class="keyword">if</span> (parent != <span class="literal">null</span>)</span><br><span class="line">        getMethods(hash, parent);</span><br><span class="line"></span><br><span class="line">    Method[] methods = SecurityActions.getDeclaredMethods(clazz);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; methods.length; i++)</span><br><span class="line">        <span class="keyword">if</span> (!Modifier.isPrivate(methods[i].getModifiers())) &#123;</span><br><span class="line">            <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> methods[i];</span><br><span class="line">            <span class="comment">//重点，RuntimeSupport.makeDescriptor(m)，这里返回格式为：方法参数表+方法返回类型;</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> m.getName() + <span class="string">&#x27;:&#x27;</span> + RuntimeSupport.makeDescriptor(m);</span><br><span class="line">            <span class="comment">// JIRA JASSIST-85</span></span><br><span class="line">            <span class="comment">// put the method to the cache, retrieve previous definition (if any) </span></span><br><span class="line">            <span class="type">Method</span> <span class="variable">oldMethod</span> <span class="operator">=</span> (Method)hash.put(key, methods[i]); </span><br><span class="line"></span><br><span class="line">            <span class="comment">// check if visibility has been reduced </span></span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != oldMethod &amp;&amp; Modifier.isPublic(oldMethod.getModifiers())</span><br><span class="line">                                  &amp;&amp; !Modifier.isPublic(methods[i].getModifiers()) ) &#123; </span><br><span class="line">                <span class="comment">// we tried to overwrite a public definition with a non-public definition,</span></span><br><span class="line">                <span class="comment">// use the old definition instead. </span></span><br><span class="line">                hash.put(key, oldMethod); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Map的<code>key</code>最终格式为:<code>methodName:paramsTypes+returnType</code></p>
<h3 id="javassit-3-16-0-GA"><a href="#javassit-3-16-0-GA" class="headerlink" title="javassit 3.16.0.GA"></a>javassit 3.16.0.GA</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getMethods</span><span class="params">(HashMap hash, Class clazz, Set visitedClasses)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (visitedClasses.add(clazz)) &#123;</span><br><span class="line">           Class[] ifs = clazz.getInterfaces();</span><br><span class="line"></span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ifs.length; ++i) &#123;</span><br><span class="line">               getMethods(hash, ifs[i], visitedClasses);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="type">Class</span> <span class="variable">parent</span> <span class="operator">=</span> clazz.getSuperclass();</span><br><span class="line">           <span class="keyword">if</span> (parent != <span class="literal">null</span>) &#123;</span><br><span class="line">               getMethods(hash, parent, visitedClasses);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           Method[] methods = SecurityActions.getDeclaredMethods(clazz);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; methods.length; ++i) &#123;</span><br><span class="line">               <span class="keyword">if</span> (!Modifier.isPrivate(methods[i].getModifiers())) &#123;</span><br><span class="line">                   <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> methods[i];</span><br><span class="line">                   <span class="comment">// //重点，RuntimeSupport.makeDescriptor(m)，这里返回格式为：方法参数表;</span></span><br><span class="line">                   <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> m.getName() + <span class="string">&#x27;:&#x27;</span> + RuntimeSupport.makeDescriptor(m.getParameterTypes(), (Class)<span class="literal">null</span>);</span><br><span class="line">                   <span class="type">Method</span> <span class="variable">oldMethod</span> <span class="operator">=</span> (Method)hash.put(key, methods[i]);</span><br><span class="line">                   <span class="keyword">if</span> (<span class="literal">null</span> != oldMethod &amp;&amp; Modifier.isPublic(oldMethod.getModifiers()) &amp;&amp; !Modifier.isPublic(methods[i].getModifiers())) &#123;</span><br><span class="line">                       hash.put(key, oldMethod);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>Map的<code>key</code>最终格式为:<code>methodName:paramsTypes</code></p>
<p>当使用<code>javaassist 3.12.0.GA</code>时，由于遍历目标类的方法时，Map使用的key为<code>methodName:paramsTypes+returnType</code>,可以保证每个方法都能被代理到</p>
<p>由于项目中实际运行时使用的<code>javassist</code>版本是<code>3.16.0.GA</code>，(某个小伙伴引入的第三方库中使用<code>javassist-3.16.0.GA</code>,覆盖了jbpm所依赖的<code>javassist-3.12.0.GA</code>)</p>
<p>当遍历目标类的方法时，Map使用的key为<code>methodName:paramsTypes</code>，当出现<code>同名</code>，<code>同形参</code>的方法时，这个时候能被代理到的方法和<code>Class#getDeclaredMethods()</code> 返回的顺序有关，该方法注释如下</p>
<blockquote>
<p>Returns an array containing Method objects reflecting all the declared methods of the class or interface represented by this Class object, including public, protected, default (package) access, and private methods, but excluding inherited methods.<br>If this Class object represents a type that has multiple declared methods with the same name and parameter types, but different return types, then the returned array has a Method object for each such method.<br>If this Class object represents a type that has a class initialization method <clinit>, then the returned array does not have a corresponding Method object.<br>If this Class object represents a class or interface with no declared methods, then the returned array has length 0.<br>If this Class object represents an array type, a primitive type, or void, then the returned array has length 0.<br>The elements in the returned array are not sorted and are not in any particular order （重点，返回数组中的元素没有排序，也没有特定顺序）</p>
</blockquote>
<p>所以当执行下面代码时，有一定几率执行的方法不是代理过方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">UserImplProxy</span> <span class="variable">proxy</span> <span class="operator">=</span> JavassistProxy(<span class="keyword">new</span> <span class="title class_">UserImplProxy</span>());</span><br><span class="line"><span class="type">PhoneImpl</span> <span class="variable">phoneImpl</span> <span class="operator">=</span> proxy.getPhone();</span><br></pre></td></tr></table></figure>
<p>所以导致jbmp执行相关操作时，查询对象实体时，有一定几率导致返回为空(没有被代理，那么就不会触发查询)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/04/23/lol-lcu-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/23/lol-lcu-api/" class="post-title-link" itemprop="url">lol-lcu-api</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-04-23 19:50:08" itemprop="dateCreated datePublished" datetime="2023-04-23T19:50:08+08:00">2023-04-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/LOL/" itemprop="url" rel="index"><span itemprop="name">LOL</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="LCU-API"><a href="#LCU-API" class="headerlink" title="LCU-API"></a>LCU-API</h1><h2 id="获取token"><a href="#获取token" class="headerlink" title="获取token"></a>获取token</h2><p>CMD以管理员权限运行，输入如下命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wmic process where caption=&#x27;LeagueClientUx.exe&#x27; get commandline</span><br></pre></td></tr></table></figure>
<p>得到如下结果</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">g:/英雄联盟/LeagueClient/LeagueClientUx.exe &quot;--riotclient-auth-token=63-Wr1ACdIS6EfVkuy9gig&quot; &quot;--riotclient-app-port=58789&quot; &quot;--riotclient-tencent&quot; &quot;--no-rads&quot; &quot;--disable-self-update&quot; &quot;--region=TENCENT&quot; &quot;--locale=zh_CN&quot; &quot;--t.lcdshost=hn1-cloud-feapp.lol.qq.com&quot; &quot;--t.chathost=hn1-cloud-ejabberd.lol.qq.com&quot; &quot;--t.lq=https://hn1-cloud-login.lol.qq.com:8443&quot; &quot;--t.storeurl=https://hn1-cloud-sr.lol.qq.com:8443&quot; &quot;--t.rmsurl=wss://hn1-cloud-rms.lol.qq.com&quot; &quot;--rso-auth.url=https://prod-rso.lol.qq.com:3000&quot; &quot;--rso_platform_id=HN1&quot; &quot;--rso-auth.client=lol&quot; &quot;--t.location=loltencent.gz1.HN1&quot; &quot;--tglog-endpoint=https://tglogsz.datamore.qq.com/lolcli/report/&quot; &quot;--ccs=https://hn1-cloud-cc.lol.qq.com:8093&quot; &quot;--entitlements-url=https://hn1-cloud-entitlements.lol.qq.com:28088/api/token/v1&quot; &quot;--dradis-endpoint=http://some.url&quot; &quot;--remoting-auth-token=fBHICcvvUudE4Fij_kpQuA&quot; &quot;--app-port=58831&quot; &quot;--install-directory=g:\鑻遍泟鑱旂洘\LeagueClient&quot; &quot;--app-name=LeagueClient&quot; &quot;--ux-name=LeagueClientUx&quot; &quot;--ux-helper-name=LeagueClientUxHelper&quot; &quot;--log-dir=LeagueClient Logs&quot; &quot;--crash-reporting=&quot; &quot;--crash-environment=HN1&quot; &quot;--app-log-file-path=g:/英雄联盟/LeagueClient/../Game/Logs/LeagueClient Logs/2023-04-23T19-21-31_24144_LeagueClient.log&quot; &quot;--app-pid=24144&quot; &quot;--output-base-dir=g:/鑻遍泟鑱旂洘/LeagueClient/../Game&quot; &quot;--no-proxy-server&quot; &quot;--ignore-certificate-errors&quot;</span><br></pre></td></tr></table></figure>

<h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><p>客户端api使用的<code>https</code>协议，认证方式使用的是<code>Basic</code>,用户名为<code>riot</code></p>
<h3 id="riot-client"><a href="#riot-client" class="headerlink" title="riot-client"></a>riot-client</h3><p><code>riotclient-auth-token</code> token</p>
<p><code>riotclient-app-port</code> 端口号</p>
<p>eg:</p>
<p><code>GET https://127.0.0.1:50886/swagger/v2/swagger.json</code> 获取swagger文档说明</p>
<p><code>GET https://127.0.0.1:58789/swagger/v3/openapi.json</code> </p>
<h3 id="lcu-client"><a href="#lcu-client" class="headerlink" title="lcu-client"></a>lcu-client</h3><p><code>remoting-auth-token</code> token</p>
<p><code>app-port</code> 端口号</p>
<h1 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h1><p><a target="_blank" rel="noopener" href="https://127.0.0.1:55205/lol-player-report-sender/v1/end-of-game-reports">https://127.0.0.1:55205/lol-player-report-sender/v1/end-of-game-reports</a></p>
<p>{“gameId”:8293338498,”categories”:[“NEGATIVE_ATTITUDE”,”VERBAL_ABUSE”,”HATE_SPEECH”],”offenderSummonerId”:2947216121,”offenderPuuid”:”42924433-abf2-568c-a318-41f80cb50e57”}</p>
<p><a target="_blank" rel="noopener" href="https://pengu.lol/guide/lcu-request">https://pengu.lol/guide/lcu-request</a></p>
<p><a target="_blank" rel="noopener" href="https://hextechdocs.dev/getting-started-with-the-lcu-websocket/">https://hextechdocs.dev/getting-started-with-the-lcu-websocket/</a></p>
<p><a target="_blank" rel="noopener" href="https://riot-api-libraries.readthedocs.io/en/latest/lcu.html">https://riot-api-libraries.readthedocs.io/en/latest/lcu.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.nuget.org/packages/Camille.Lcu/">https://www.nuget.org/packages/Camille.Lcu/</a></p>
<p><a target="_blank" rel="noopener" href="https://lcu.vivide.re/#operation--lol-chat-v1-me-put">https://lcu.vivide.re/#operation--lol-chat-v1-me-put</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.riotgames.com/docs/lol">https://developer.riotgames.com/docs/lol</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/03/07/WinDbg%E7%AC%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/03/07/WinDbg%E7%AC%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">WinDbg符号配置.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-03-07 02:33:17" itemprop="dateCreated datePublished" datetime="2023-03-07T02:33:17+08:00">2023-03-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h1><p><code>_NT_SYMBOL_PATH</code> :<code>cache*C:\MySymbols;srv*https://msdl.microsoft.com/download/symbols</code></p>
<p><code>_NT_SYMBOL_PROXY</code>: <code>ip:port</code></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/bug-check-code-reference2">https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/bug-check-code-reference2</a></p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/symbol-path">https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/symbol-path</a></p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/firewalls-and-proxy-servers">https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/firewalls-and-proxy-servers</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/02/25/LOL%20ob%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/25/LOL%20ob%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">LOL ob教程.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-25 07:32:39" itemprop="dateCreated datePublished" datetime="2023-02-25T07:32:39+08:00">2023-02-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h1><p>为了观战韩服职业选手排位历史记录</p>
<ol>
<li><p>下载外服客户端</p>
</li>
<li><p>修改配置</p>
</li>
</ol>
<p>到 <code>C:\ProgramData\Riot Games\Metadata\league_of_legends.live</code> 目录下<br>找到<code>league_of_legends.live.product_settings.yaml</code><br>修改如下</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">auto_patching_enabled_by_player:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">    <span class="attr">Direct X 9:</span></span><br><span class="line">        <span class="attr">hash:</span> <span class="string">&quot;9f22c993a42816d61a3063badbf25f9dd299721051ca0665a7cb295ba97591b0&quot;</span></span><br><span class="line">        <span class="attr">phase:</span> <span class="string">&quot;Succeeded&quot;</span></span><br><span class="line">        <span class="attr">version:</span> <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line"><span class="attr">locale_data:</span></span><br><span class="line">    <span class="attr">available_locales:</span> <span class="comment"># 配置语言选项</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;en_US&quot;</span> <span class="comment">#英文</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;zh_CN&quot;</span> <span class="comment">#中文</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;ko_KR&quot;</span> <span class="comment">#韩文</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;ja_JP&quot;</span> <span class="comment">#日文</span></span><br><span class="line">    <span class="attr">default_locale:</span> <span class="string">&quot;en_US&quot;</span> <span class="comment">#默认语言</span></span><br><span class="line"><span class="attr">patching_policy:</span> <span class="string">&quot;manual&quot;</span></span><br><span class="line"><span class="attr">patchline_patching_ask_policy:</span> <span class="string">&quot;ask&quot;</span></span><br><span class="line"><span class="attr">product_install_full_path:</span> <span class="string">&quot;G:\\Riot Games\\League of Legends&quot;</span></span><br><span class="line"><span class="attr">product_install_root:</span> <span class="string">&quot;G:/Riot Games&quot;</span></span><br><span class="line"><span class="attr">settings:</span></span><br><span class="line">    <span class="attr">create_shortcut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">create_uninstall_key:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">locale:</span> <span class="string">&quot;ko_KR&quot;</span> <span class="comment"># 这里设置为你想要的语言，参考上面</span></span><br><span class="line"><span class="attr">shortcut_name:</span> <span class="string">&quot;League of Legends.lnk&quot;</span></span><br><span class="line"><span class="attr">should_repair:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>为了ob韩服不乱码，所以需要将上述的<code>locale</code> 后面的值改成<code>ko_KR</code></p>
<ol start="2">
<li>修改观战进程语言</li>
</ol>
<p>找到 LOL 安装目录 ，这里以我的为例，<code>G:\Riot Games\League of Legends\Config</code><br>打开 <code>LeagueClientSettings.yaml</code> 文件，<br>修改如下</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">install:</span></span><br><span class="line">    <span class="attr">crash_reporting:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">&quot;crashpad&quot;</span></span><br><span class="line">    <span class="attr">game-settings:</span></span><br><span class="line">        <span class="attr">accountId:</span> <span class="number">238191481</span></span><br><span class="line">        <span class="attr">modified:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">timestamp:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">gameflow-patcher-lock:</span> <span class="literal">null</span></span><br><span class="line">    <span class="attr">gameflow-process-info:</span> <span class="literal">null</span></span><br><span class="line">    <span class="attr">gameflow-spectate-reconnect-info:</span> <span class="literal">null</span></span><br><span class="line">    <span class="attr">globals:</span></span><br><span class="line">        <span class="attr">locale:</span> <span class="string">&quot;en_US&quot;</span> <span class="comment"># 这里设置为ko_KR 就不会乱码了</span></span><br><span class="line">        <span class="attr">region:</span> <span class="string">&quot;NA&quot;</span></span><br><span class="line">    <span class="attr">lcu-settings:</span></span><br><span class="line">        <span class="attr">accountId:</span> <span class="number">238191481</span></span><br><span class="line">        <span class="attr">modified:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">timestamp:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">patcher:</span></span><br><span class="line">        <span class="attr">client_migrated:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">client_patcher_available:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">game_migrated:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">game_patcher_available:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">locales:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;en_US&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;ja_JP&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;ko_KR&quot;</span></span><br><span class="line">        <span class="attr">toggles:</span></span><br><span class="line">            <span class="attr">new_client_patcher:</span> <span class="number">0</span></span><br><span class="line">            <span class="attr">new_game_patcher:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">perks-settings:</span></span><br><span class="line">        <span class="attr">accountId:</span> <span class="number">238191481</span></span><br><span class="line">        <span class="attr">modified:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">timestamp:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">riotclient-upgrade:</span></span><br><span class="line">        <span class="attr">seq-success-count:</span> <span class="number">16</span></span><br><span class="line">        <span class="attr">success-count:</span> <span class="number">16</span></span><br><span class="line">    <span class="attr">rso-auth:</span></span><br><span class="line">        <span class="attr">install-identifier:</span> <span class="string">&quot;7ca3c8997368594881546f6d2d70a551&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/01/30/wireshark%20tls%E6%8A%93%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/30/wireshark%20tls%E6%8A%93%E5%8C%85/" class="post-title-link" itemprop="url">wireshark tls抓包.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-30 11:54:13" itemprop="dateCreated datePublished" datetime="2023-01-30T11:54:13+08:00">2023-01-30</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><ol>
<li><p>配置环境变量 <code>SSLKEYLOGFILE</code> 值为拥有读写权限的文件,例如:<code>D:\A_TLS_LOG\sslkeylog.log</code></p>
</li>
<li><p>打开<code>wireshark</code>,找到首选项(ctrl+shift+p),<code>Protocols &gt;&gt; TLS </code>,<code>TLS debug file</code> 配置tls日志，<code>(Pre)-Master-Secret log filename</code>配置上述环境变量<code>SSLKEYLOGFILE</code>中指定的文件</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/10/11/%E4%BA%8C%E8%BF%9B%E5%88%B6%20&&%20%E4%BD%8D%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/10/11/%E4%BA%8C%E8%BF%9B%E5%88%B6%20&&%20%E4%BD%8D%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">二进制 && 位操作.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-10-11 02:33:01" itemprop="dateCreated datePublished" datetime="2022-10-11T02:33:01+08:00">2022-10-11</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="概论"><a href="#概论" class="headerlink" title="概论"></a>概论</h1><p>计算中的任何数据都是由二进制表示，因为IC(Integrated Circuit)集成电路的引脚只有直流电压<code>0V</code>或<code>5V</code>两个状态，也就是一个IC引脚只能表示两个状态，和二进制 <code>0</code> <code>1</code> 契合</p>
<h1 id="数"><a href="#数" class="headerlink" title="数"></a>数</h1><p>二进制数<code>0000 0101</code> 转成10进制数结果为<code>5 = 1*2^2 + 0*2^1 +1*2^0 = 4 + 0 + 1 = 5</code> 即数值和<code>位权</code>相乘后相加</p>
<h2 id="正数和负数的表示"><a href="#正数和负数的表示" class="headerlink" title="正数和负数的表示"></a>正数和负数的表示</h2><p>通常将数的二进制最高位作为符号位，<code>1</code>表示负数，<code>0</code> 表示正数</p>
<p>10进制数<code>1</code> 的二进制数为:<code>0000 0001</code>， 负数为 ：<code>~1 + 1 = -2 + 1 =-1</code></p>
<p>数<code>v</code>取反：</p>
<p>  正数：<code>-(v+1)</code></p>
<p>  负数 <code>|v| -1 </code></p>
<p>正数取反结果为负数，负数取反结果为整数</p>
<p>任何数取反加一的结果都为该数的相反数</p>
<p>正加负减(<code>-(v+1)</code>)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">以下数取反后的值</span><br><span class="line">10 -11</span><br><span class="line">1 -2</span><br><span class="line">-2 1</span><br><span class="line">-5 4</span><br><span class="line">-6  5</span><br></pre></td></tr></table></figure>

<h2 id="位移"><a href="#位移" class="headerlink" title="位移"></a>位移</h2><p>只有右移时才能区分出<code>逻辑位移</code>和<code>算术位移</code></p>
<p>java中 <code>&gt;&gt;</code> 为算术右移，<code>&gt;&gt;&gt;</code> 为逻辑位移</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int x = -4;</span><br><span class="line">int y = -4 &gt;&gt;2;// -1</span><br><span class="line">int z = -4 &gt;&gt;&gt;2; // 1073741823</span><br></pre></td></tr></table></figure>

<h3 id="逻辑位移"><a href="#逻辑位移" class="headerlink" title="逻辑位移"></a>逻辑位移</h3><p>补零就行了</p>
<h3 id="算术位移"><a href="#算术位移" class="headerlink" title="算术位移"></a>算术位移</h3><p>将二进制数作为带符号的数值进行运算时，移位后需要在最高位补充符号位（0或者1）</p>
<h1 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h1><p>符号、尾数、基数、指数</p>
<h2 id="双精度-64bit"><a href="#双精度-64bit" class="headerlink" title="双精度(64bit)"></a>双精度(64bit)</h2><p><code>符号部分(1bit) + 指数部分(11bit) + 尾数部分(52bit)</code></p>
<h2 id="单精度-32bit"><a href="#单精度-32bit" class="headerlink" title="单精度(32bit)"></a>单精度(32bit)</h2><p><code>符号部分(1bit) + 指数部分(8bit) + 尾数部分(23bit)</code></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/09/28/redis-%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/28/redis-%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">redis-源码学习总结.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-28 09:29:10" itemprop="dateCreated datePublished" datetime="2022-09-28T09:29:10+08:00">2022-09-28</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="sds-Simple-dynamic-string"><a href="#sds-Simple-dynamic-string" class="headerlink" title="sds (Simple dynamic string)"></a>sds (Simple dynamic string)</h1><p><code>sdsHeader</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">sdsHdr&#123;</span><br><span class="line">    <span class="type">size_t</span> len;</span><br><span class="line">    <span class="type">size_t</span> alloc;</span><br><span class="line">    <span class="type">size_t</span> flag</span><br><span class="line">    <span class="type">char</span> [] buf;<span class="comment">//柔性数组，内存分配时不占用空间，根据需要可以动态构建该区域，且内存空间连续</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="List-双链表实现"><a href="#List-双链表实现" class="headerlink" title="List (双链表实现)"></a>List (双链表实现)</h1><h1 id="rio-面向stream的IO抽象层"><a href="#rio-面向stream的IO抽象层" class="headerlink" title="rio (面向stream的IO抽象层)"></a>rio (面向stream的IO抽象层)</h1><p>实现了<code>sds</code>,<code>file</code>,<code>socket</code>,<code>fd</code>的相关读写</p>
<p>其中针对<code>aof(Append only file)</code>文件，定义了序列化协议 <code>*&lt;argv_num&gt;\r\n$&lt;count&gt;\r\n&lt;payload&gt;\r\n </code></p>
<blockquote>
<p>开启redis aof,需要在<code>redis.conf</code>中配置<code>appendonly yes</code></p>
</blockquote>
<p>例子：假如需要往<code>aof</code>中写入字符串<code>Hello</code>,实际写入的是<code>$5\r\nHello</code></p>
<p>例子：<code>redis-cli</code>执行<code>set test abc</code></p>
<p>那么aof文件将会追加下面这段内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*3</span><br><span class="line">$3</span><br><span class="line">set</span><br><span class="line">$4</span><br><span class="line">test</span><br><span class="line">$3</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>
<p>翻译成人话就是：<code>三个字符串，分别为set test abc</code></p>
<h1 id="dictht-HashTable"><a href="#dictht-HashTable" class="headerlink" title="dictht (HashTable)"></a>dictht (HashTable)</h1><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>&#x2F;&#x2F;设置状态<br><code>flags |= STATE_OEPN</code></p>
<p>&#x2F;&#x2F;取消状态<br><code>flags &amp;= ~STATE_OPEN</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">updateFlag</span><span class="params">(<span class="type">int</span>*flags,<span class="type">int</span> flag,<span class="type">int</span> enable)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(enable)&#123;</span><br><span class="line">        *flags |= flag;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        *flags &amp;= ~flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/09/20/spring-transaction-auto/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sweetink">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
      <meta itemprop="description" content="Always remember us this way">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 随记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/20/spring-transaction-auto/" class="post-title-link" itemprop="url">spring-transaction-auto.</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-20 03:37:10" itemprop="dateCreated datePublished" datetime="2022-09-20T03:37:10+08:00">2022-09-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h1><p>@EnableTransactionManagement<br>    -&gt; @Import(TransactionManagementConfigurationSelector.class)<br>        -&gt; ProxyTransactionManagementConfiguration</p>
<p>ProxyTransactionManagementConfiguration<br>    @Bean<br>    -&gt; BeanFactoryTransactionAttributeSourceAdvisor<br>        -&gt;setTranactionAttributeSource (TransactionAttributeSource())<br>        -&gt;setAdvice(TransactionInterceptor()-&gt;ref-&gt;TransactionManager)</p>
<pre><code>    7vPUtZJ6pMgebJvzi4C,eWDpdRrVLwQk56uCCIE
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sweetink</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/sweetink" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"sweetink","repo":"sweetink.github.io","client_id":"760a63305bc761942991","client_secret":"24d5b422197b6ccb31f208abb6c88f79a8b5b252","admin_user":"sweetink","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"d1546d731a9f30cc80127d57142a482b"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
